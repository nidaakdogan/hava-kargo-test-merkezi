{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\N\\u0130DAA\\\\Cargo Digital Twin Test Lab\\\\mobile-app\\\\src\\\\components\\\\SyncedBarcodeScanner.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport { FaBarcode, FaToggleOn, FaToggleOff, FaTrash, FaSync, FaInfoCircle, FaExclamationTriangle } from 'react-icons/fa';\nimport { counterSync } from '../services/CounterSyncService';\nimport './BarcodeScanner.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SyncedBarcodeScanner = ({\n  offlineQueue,\n  onUpdate\n}) => {\n  _s();\n  // 🎯 TEK KAYNAKLI DURUM MODELİ - 4 Ana State (API Senkronize)\n  const [offline, setOffline] = useState(false); // true/false\n  const [Q, setQ] = useState(0); // kuyruk: tamsayı\n  const [P, setP] = useState(0); // işleniyor: tamsayı\n  const [T, setT] = useState(0); // toplam: tamsayı\n\n  // Yardımcı state (UI için)\n  const [queueItems, setQueueItems] = useState([]);\n  const [showClearModal, setShowClearModal] = useState(false);\n\n  // Debounce koruma - 300ms\n  const [lastActionTime, setLastActionTime] = useState(0);\n  const DEBOUNCE_DELAY = 300;\n  const testBarcodes = [{\n    code: 'ULD-AKE12345AB',\n    type: 'ULD',\n    valid: true\n  }, {\n    code: '123-45678901',\n    type: 'AWB',\n    valid: true\n  }, {\n    code: 'ULD-ABC123',\n    type: 'ULD',\n    valid: false\n  }, {\n    code: 'INVALID-CODE',\n    type: 'INVALID',\n    valid: false\n  }];\n\n  // Debounce check fonksiyonu\n  const checkDebounce = () => {\n    const now = Date.now();\n    if (now - lastActionTime < DEBOUNCE_DELAY) {\n      console.log('⚠️ Debounced - çok hızlı tıklama');\n      return false;\n    }\n    setLastActionTime(now);\n    return true;\n  };\n\n  // Aksiyon logu helper\n  const logAction = (action, before, after) => {\n    console.log(`${action}: önce Q=${before.Q},P=${before.P},T=${before.T}, offline=${before.offline} → sonra Q=${after.Q},P=${after.P},T=${after.T}, offline=${after.offline}`);\n  };\n\n  // 🔄 1) Toggle: Offline Modu - TEK KAYNAK KONTROLLÜ\n  const handleOfflineModeToggle = async newValue => {\n    if (!checkDebounce()) {\n      console.log('⚠️ Toggle debounced - çok hızlı tıklama');\n      return;\n    }\n    console.log(`🔄 onChange: set offline = ${newValue} (önceki: ${offline})`);\n    const before = {\n      Q,\n      P,\n      T,\n      offline\n    };\n\n    // TEK KAYNAK: sadece burada state güncelle\n    setOffline(newValue);\n    await counterSync.updateCounter('offline', newValue);\n    const after = {\n      Q,\n      P,\n      T,\n      offline: newValue\n    };\n    logAction('Toggle Offline', before, after);\n\n    // Doğru eşleme: offline=true → yeşil → \"Offline moda geçildi\"\n    setTimeout(() => {\n      console.log(`🔄 Toggle completed: offline=${newValue}`);\n      toast.info(newValue ? '📱 Offline moda geçildi' : '🌐 Online moda geçildi');\n    }, 50);\n  };\n\n  // 🔄 2) Barkod Tara / Oku - API Senkronize\n  const simulateScan = async barcode => {\n    if (!checkDebounce()) return;\n    console.log(`🔄 Barkod Tara clicked: offline=${offline}, Q=${Q}, P=${P}, T=${T}, barcode=${barcode.code}`);\n    const before = {\n      Q,\n      P,\n      T,\n      offline\n    };\n    if (offline) {\n      // offline = true (yeşil): Q = Q + 1, P değişmez (0'da kalır), T değişmez\n      const newQ = Q + 1;\n      setQ(newQ);\n      await counterSync.updateCounter('Q', newQ);\n\n      // Kuyruğa ekle\n      if (offlineQueue) {\n        const scanData = {\n          type: 'barcode_scan',\n          barcode: barcode.code,\n          barcode_type: barcode.type,\n          timestamp: Date.now(),\n          valid: barcode.valid\n        };\n        await offlineQueue.addToQueue(scanData);\n        await updateQueueItems();\n      }\n      const after = {\n        Q: newQ,\n        P,\n        T,\n        offline\n      };\n      logAction('Barkod Tara (Offline)', before, after);\n      toast.success(`📥 Çevrimdışı: kuyruğa eklendi (Q=${newQ})`);\n    } else {\n      // offline = false (gri): P = 1 (işlem başladı)\n      setP(1);\n      await counterSync.updateCounter('P', 1);\n      const afterStart = {\n        Q,\n        P: 1,\n        T,\n        offline\n      };\n      logAction('Barkod Tara (Online) - Başladı', before, afterStart);\n      try {\n        // Simülasyon - işleme süresi (1000ms)\n        await new Promise(resolve => setTimeout(resolve, 1000));\n\n        // Sonuca göre:\n        if (barcode.valid) {\n          const newT = T + 1;\n          setT(newT);\n          await counterSync.updateCounter('T', newT);\n          add24hTotal(1);\n          const afterSuccess = {\n            Q,\n            P: 0,\n            T: newT,\n            offline\n          };\n          setP(0); // P = 0 (işlem bitti)\n          await counterSync.updateCounter('P', 0);\n          logAction('Barkod Tara (Online) - Başarılı', afterStart, afterSuccess);\n          setTimeout(() => {\n            toast.success(`✅ Barkod işlendi (T=${newT})`);\n          }, 200);\n        } else {\n          // Başarısız: T değişmez\n          setP(0); // P = 0 (işlem bitti)\n          await counterSync.updateCounter('P', 0);\n          const afterFailed = {\n            Q,\n            P: 0,\n            T,\n            offline\n          };\n          logAction('Barkod Tara (Online) - Başarısız', afterStart, afterFailed);\n          setTimeout(() => {\n            toast.error('❌ İşlem başarısız');\n          }, 200);\n        }\n      } catch (error) {\n        // Hata durumu: P = 0, T değişmez\n        setP(0);\n        await counterSync.updateCounter('P', 0);\n        toast.error('❌ İşlem hatası');\n      }\n    }\n  };\n\n  // 🔄 3) Kuyruğu İşle (yalnız online ve Q>0 iken) - API Senkronize\n  const processQueue = async () => {\n    if (!checkDebounce()) return;\n    console.log(`🔄 Kuyruğu İşle clicked: offline=${offline}, Q=${Q}, P=${P}, T=${T}`);\n    if (offline) {\n      console.log('🚫 Kuyruğu İşle blocked: offline mode');\n      toast.warning('⚠️ Offline modda kuyruk işlenez');\n      return;\n    }\n    if (Q === 0) {\n      toast.info('ℹ️ Kuyruk boş');\n      return;\n    }\n    const before = {\n      Q,\n      P,\n      T,\n      offline\n    };\n    const batchSize = 5;\n    let currentQ = Q;\n    let currentT = T;\n    try {\n      // Batch'ler halinde işle\n      while (currentQ > 0) {\n        const currentBatchSize = Math.min(currentQ, batchSize);\n        setP(currentBatchSize);\n        await counterSync.updateCounter('P', currentBatchSize);\n        console.log(`⚡ Batch başladı: P=${currentBatchSize}, Q=${currentQ}`);\n        await new Promise(resolve => setTimeout(resolve, 2000));\n        const successCount = Math.floor(currentBatchSize * 0.85) || Math.min(1, currentBatchSize);\n        for (let i = 0; i < currentBatchSize; i++) {\n          if (i < successCount) {\n            currentT++;\n            setT(currentT);\n            await counterSync.updateCounter('T', currentT);\n            add24hTotal(1);\n          }\n          currentQ--;\n          setQ(currentQ);\n          await counterSync.updateCounter('Q', currentQ);\n          setP(Math.max(0, currentBatchSize - i - 1));\n          await counterSync.updateCounter('P', Math.max(0, currentBatchSize - i - 1));\n          await new Promise(resolve => setTimeout(resolve, 100));\n        }\n        console.log(`✅ Batch tamamlandı: Q=${currentQ}, T=${currentT}, P=0`);\n      }\n      setP(0);\n      await counterSync.updateCounter('P', 0);\n      const after = {\n        Q: currentQ,\n        P: 0,\n        T: currentT,\n        offline\n      };\n      logAction('Kuyruğu İşle - Tamamlandı', before, after);\n      if (offlineQueue) {\n        await offlineQueue.clearQueue();\n        await updateQueueItems();\n      }\n      toast.success(`🎉 Kuyruk işlendi: ${currentT - before.T} başarılı`);\n    } catch (error) {\n      setP(0);\n      await counterSync.updateCounter('P', 0);\n      toast.error('❌ Kuyruk işleme hatası');\n    }\n  };\n\n  // 🔄 4) Kuyruğu Temizle (onaydan sonra) - API Senkronize\n  const clearQueue = async () => {\n    if (!checkDebounce()) return;\n    console.log(`🔄 Kuyruğu Temizle clicked: offline=${offline}, Q=${Q}, P=${P}, T=${T}`);\n    if (Q === 0) {\n      console.log('🚫 Kuyruğu Temizle blocked: Q=0');\n      toast.info('ℹ️ Kuyruk zaten boş');\n      return;\n    }\n    const before = {\n      Q,\n      P,\n      T,\n      offline\n    };\n    if (P === 0) {\n      setQ(0);\n      await counterSync.updateCounter('Q', 0);\n      if (offlineQueue) {\n        await offlineQueue.clearQueue();\n        await updateQueueItems();\n      }\n      const after = {\n        Q: 0,\n        P,\n        T,\n        offline\n      };\n      logAction('Kuyruğu Temizle', before, after);\n      toast.success(`🗑️ Kuyruk temizlendi (${before.Q} kayıt)`);\n    } else {\n      setP(0);\n      setQ(0);\n      await counterSync.updateCounters({\n        P: 0,\n        Q: 0\n      });\n      if (offlineQueue) {\n        await offlineQueue.clearQueue();\n        await updateQueueItems();\n      }\n      const after = {\n        Q: 0,\n        P: 0,\n        T,\n        offline\n      };\n      logAction('Kuyruğu Temizle (İşlem İptal)', before, after);\n      toast.success(`🛑 İşlem durduruldu ve kuyruk temizlendi (${before.Q} kayıt)`);\n    }\n  };\n  const updateQueueItems = async () => {\n    if (offlineQueue) {\n      const items = await offlineQueue.getQueue();\n      setQueueItems(items);\n      if (onUpdate) onUpdate();\n    }\n  };\n\n  // Initialization - sayaçları API'den senkronize et\n  useEffect(() => {\n    const initializeCounters = async () => {\n      // 1. API'den global sayaçları çek\n      const apiCounters = await counterSync.getCounters();\n      if (apiCounters) {\n        setQ(apiCounters.Q);\n        setP(apiCounters.P);\n        setT(apiCounters.T);\n        setOffline(apiCounters.offline);\n        console.log(`🔄 API'den yüklendi:`, apiCounters);\n      }\n\n      // 2. Lokal kuyruk verilerini yükle\n      if (offlineQueue) {\n        const queue = await offlineQueue.getQueue();\n        setQueueItems(queue);\n      }\n    };\n    initializeCounters();\n\n    // Otomatik senkronizasyon başlat\n    counterSync.startAutoSync(2000);\n\n    // API değişikliklerini dinle\n    const unsubscribe = counterSync.addListener(newCounters => {\n      console.log('🔄 API güncellemesi:', newCounters);\n      setQ(newCounters.Q);\n      setP(newCounters.P);\n      setT(newCounters.T);\n      setOffline(newCounters.offline);\n    });\n    return () => {\n      counterSync.stopAutoSync();\n      unsubscribe();\n    };\n  }, [offlineQueue]);\n\n  // 24 saatlik toplama ekleme (T artırmak için)\n  const add24hTotal = (count = 1) => {\n    const now = new Date().toISOString();\n    const records = JSON.parse(localStorage.getItem('24h_records') || '[]');\n    for (let i = 0; i < count; i++) {\n      records.push({\n        timestamp: now\n      });\n    }\n    const oneDayAgo = new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString();\n    const filteredRecords = records.filter(record => record.timestamp > oneDayAgo);\n    localStorage.setItem('24h_records', JSON.stringify(filteredRecords));\n  };\n\n  // 🔄 RENDER LOG - State takibi\n  console.log(`🔄 render: offline=${offline}, Q=${Q}, P=${P}, T=${T}`);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"barcode-scanner\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"scanner-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"scanner-title\",\n        children: \"\\uD83D\\uDD04 Senkronize Barkod Sistemi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `status-badge ${offline ? 'offline' : 'online'}`,\n        children: [offline ? '📱 Offline' : '🌐 Online', \" \\u2022 Senkronize\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card queue\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: Q\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Kuyruk\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card processing\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: P\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"\\u0130\\u015Fleniyor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card total\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: T\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Toplam\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-subtitle\",\n            children: \"24 saat\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"toggle-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"toggle-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"toggle-label\",\n          children: \"Offline Modu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"toggle-hit-area\",\n          onClick: () => handleOfflineModeToggle(!offline),\n          onTouchStart: e => {\n            e.preventDefault();\n          },\n          onTouchEnd: e => {\n            e.preventDefault();\n          },\n          style: {\n            minWidth: '44px',\n            minHeight: '44px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            touchAction: 'manipulation',\n            cursor: 'pointer',\n            WebkitTapHighlightColor: 'transparent',\n            zIndex: 10 // Toast üstüne çık\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `toggle-switch ${offline ? 'active' : ''}`,\n            style: {\n              pointerEvents: 'none'\n            },\n            \"data-offline\": offline,\n            \"data-class\": offline ? 'active' : 'inactive',\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"toggle-handle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"action-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"action-btn primary\",\n        onClick: processQueue,\n        onTouchStart: e => {\n          if (!e.currentTarget.disabled) {\n            e.currentTarget.style.transform = 'scale(0.95)';\n          }\n        },\n        onTouchEnd: e => {\n          setTimeout(() => {\n            e.currentTarget.style.transform = '';\n          }, 150);\n        },\n        disabled: offline || Q === 0 || P > 0,\n        title: offline ? 'Offline modda pasif - Online moda geçin' : Q === 0 ? 'Kuyruk boş - önce barkod ekleyin' : P > 0 ? 'İşlem devam ediyor' : 'Kuyruktaki barkodları toplu işle',\n        children: [/*#__PURE__*/_jsxDEV(FaSync, {\n          className: P > 0 ? 'spinning' : ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 11\n        }, this), P > 0 ? 'İşleniyor...' : 'Kuyruğu İşle']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"action-btn danger\",\n        onClick: () => {\n          if (Q === 0) {\n            toast.info('ℹ️ Kuyruk zaten boş');\n            return;\n          }\n          setShowClearModal(true);\n        },\n        onTouchStart: e => {\n          if (!e.currentTarget.disabled) {\n            e.currentTarget.style.transform = 'scale(0.95)';\n          }\n        },\n        onTouchEnd: e => {\n          setTimeout(() => {\n            e.currentTarget.style.transform = '';\n          }, 150);\n        },\n        disabled: Q === 0,\n        title: Q === 0 ? 'Kuyruk boş - temizlenecek barkod yok' : `${Q} barkod var - kuyruğu temizle`,\n        children: [/*#__PURE__*/_jsxDEV(FaTrash, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 11\n        }, this), \"Temizle\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"test-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"section-title\",\n        children: \"Test Barkodlar\\u0131\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"test-grid\",\n        children: testBarcodes.map((barcode, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `test-card ${barcode.valid ? 'valid' : 'invalid'}`,\n          onClick: () => simulateScan(barcode),\n          onTouchStart: e => {\n            e.currentTarget.style.transform = 'scale(0.95)';\n          },\n          onTouchEnd: e => {\n            setTimeout(() => {\n              e.currentTarget.style.transform = '';\n            }, 150);\n          },\n          style: {\n            cursor: 'pointer',\n            WebkitTapHighlightColor: 'transparent'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"barcode-icon\",\n            children: /*#__PURE__*/_jsxDEV(FaBarcode, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"barcode-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"barcode-code\",\n              children: barcode.code\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"barcode-type\",\n              children: barcode.type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `barcode-status ${barcode.valid ? 'valid' : 'invalid'}`,\n              children: barcode.valid ? '✅ Geçerli' : '❌ Geçersiz'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"queue-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"queue-title\",\n        children: [\"Kuyruk (\", queueItems.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 9\n      }, this), queueItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-queue\",\n        children: [/*#__PURE__*/_jsxDEV(FaInfoCircle, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Kuyruk bo\\u015F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"queue-list\",\n        children: queueItems.map((item, index) => {\n          var _item$data, _item$data2, _item$data3, _item$data4, _item$data5, _item$data6, _item$data7;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"queue-item\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"item-barcode\",\n                children: ((_item$data = item.data) === null || _item$data === void 0 ? void 0 : _item$data.barcode) || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"item-type\",\n                children: ((_item$data2 = item.data) === null || _item$data2 === void 0 ? void 0 : _item$data2.type) || 'scan'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 516,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `item-status ${((_item$data3 = item.data) === null || _item$data3 === void 0 ? void 0 : _item$data3.status) || 'pending'}`,\n                children: [((_item$data4 = item.data) === null || _item$data4 === void 0 ? void 0 : _item$data4.status) === 'pending' && '⏳ Bekliyor', ((_item$data5 = item.data) === null || _item$data5 === void 0 ? void 0 : _item$data5.status) === 'processing' && '🔄 İşleniyor', ((_item$data6 = item.data) === null || _item$data6 === void 0 ? void 0 : _item$data6.status) === 'success' && '✅ Başarılı', ((_item$data7 = item.data) === null || _item$data7 === void 0 ? void 0 : _item$data7.status) === 'error' && '❌ Hatalı']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 517,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 17\n            }, this)\n          }, item.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 11\n      }, this), Q >= 100 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"long-queue-warning\",\n        children: [/*#__PURE__*/_jsxDEV(FaInfoCircle, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Kuyruk b\\xFCy\\xFCk, arka planda g\\xF6nderiliyor...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 500,\n      columnNumber: 7\n    }, this), showClearModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Kuyru\\u011Fu temizle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Kuyrukta \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: Q\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 25\n          }, this), \" kay\\u0131t var. Bu i\\u015Flem geri al\\u0131namaz.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 13\n        }, this), P > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"warning-text\",\n          children: [\"\\u26A0\\uFE0F \\u015Eu anda \", P, \" barkod i\\u015Fleniyor. \\u0130\\u015Flemi durdurup kuyru\\u011Fu temizlemek istiyor musunuz?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary\",\n            onClick: () => setShowClearModal(false),\n            children: \"Vazge\\xE7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger\",\n            onClick: () => {\n              clearQueue();\n              setShowClearModal(false);\n            },\n            children: P > 0 ? 'Evet, durdur ve sil' : 'Evet, temizle'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 539,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 336,\n    columnNumber: 5\n  }, this);\n};\n_s(SyncedBarcodeScanner, \"mffLdjwFUsTR/RjxoT29G/QXS58=\");\n_c = SyncedBarcodeScanner;\nexport default SyncedBarcodeScanner;\nvar _c;\n$RefreshReg$(_c, \"SyncedBarcodeScanner\");","map":{"version":3,"names":["React","useState","useEffect","toast","FaBarcode","FaToggleOn","FaToggleOff","FaTrash","FaSync","FaInfoCircle","FaExclamationTriangle","counterSync","jsxDEV","_jsxDEV","SyncedBarcodeScanner","offlineQueue","onUpdate","_s","offline","setOffline","Q","setQ","P","setP","T","setT","queueItems","setQueueItems","showClearModal","setShowClearModal","lastActionTime","setLastActionTime","DEBOUNCE_DELAY","testBarcodes","code","type","valid","checkDebounce","now","Date","console","log","logAction","action","before","after","handleOfflineModeToggle","newValue","updateCounter","setTimeout","info","simulateScan","barcode","newQ","scanData","barcode_type","timestamp","addToQueue","updateQueueItems","success","afterStart","Promise","resolve","newT","add24hTotal","afterSuccess","afterFailed","error","processQueue","warning","batchSize","currentQ","currentT","currentBatchSize","Math","min","successCount","floor","i","max","clearQueue","updateCounters","items","getQueue","initializeCounters","apiCounters","getCounters","queue","startAutoSync","unsubscribe","addListener","newCounters","stopAutoSync","count","toISOString","records","JSON","parse","localStorage","getItem","push","oneDayAgo","filteredRecords","filter","record","setItem","stringify","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onTouchStart","e","preventDefault","onTouchEnd","style","minWidth","minHeight","display","alignItems","justifyContent","touchAction","cursor","WebkitTapHighlightColor","zIndex","pointerEvents","currentTarget","disabled","transform","title","map","index","length","item","_item$data","_item$data2","_item$data3","_item$data4","_item$data5","_item$data6","_item$data7","data","status","id","_c","$RefreshReg$"],"sources":["C:/Users/NİDAA/Cargo Digital Twin Test Lab/mobile-app/src/components/SyncedBarcodeScanner.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport { FaBarcode, FaToggleOn, FaToggleOff, FaTrash, FaSync, FaInfoCircle, FaExclamationTriangle } from 'react-icons/fa';\r\nimport { counterSync } from '../services/CounterSyncService';\r\nimport './BarcodeScanner.css';\r\n\r\nconst SyncedBarcodeScanner = ({ offlineQueue, onUpdate }) => {\r\n  // 🎯 TEK KAYNAKLI DURUM MODELİ - 4 Ana State (API Senkronize)\r\n  const [offline, setOffline] = useState(false);  // true/false\r\n  const [Q, setQ] = useState(0);                  // kuyruk: tamsayı\r\n  const [P, setP] = useState(0);                  // işleniyor: tamsayı\r\n  const [T, setT] = useState(0);                  // toplam: tamsayı\r\n  \r\n  // Yardımcı state (UI için)\r\n  const [queueItems, setQueueItems] = useState([]);\r\n  const [showClearModal, setShowClearModal] = useState(false);\r\n  \r\n  // Debounce koruma - 300ms\r\n  const [lastActionTime, setLastActionTime] = useState(0);\r\n  const DEBOUNCE_DELAY = 300;\r\n\r\n  const testBarcodes = [\r\n    { code: 'ULD-AKE12345AB', type: 'ULD', valid: true },\r\n    { code: '123-45678901', type: 'AWB', valid: true },\r\n    { code: 'ULD-ABC123', type: 'ULD', valid: false },\r\n    { code: 'INVALID-CODE', type: 'INVALID', valid: false }\r\n  ];\r\n\r\n  // Debounce check fonksiyonu\r\n  const checkDebounce = () => {\r\n    const now = Date.now();\r\n    if (now - lastActionTime < DEBOUNCE_DELAY) {\r\n      console.log('⚠️ Debounced - çok hızlı tıklama');\r\n      return false;\r\n    }\r\n    setLastActionTime(now);\r\n    return true;\r\n  };\r\n\r\n  // Aksiyon logu helper\r\n  const logAction = (action, before, after) => {\r\n    console.log(`${action}: önce Q=${before.Q},P=${before.P},T=${before.T}, offline=${before.offline} → sonra Q=${after.Q},P=${after.P},T=${after.T}, offline=${after.offline}`);\r\n  };\r\n\r\n  // 🔄 1) Toggle: Offline Modu - TEK KAYNAK KONTROLLÜ\r\n  const handleOfflineModeToggle = async (newValue) => {\r\n    if (!checkDebounce()) {\r\n      console.log('⚠️ Toggle debounced - çok hızlı tıklama');\r\n      return;\r\n    }\r\n\r\n    console.log(`🔄 onChange: set offline = ${newValue} (önceki: ${offline})`);\r\n    \r\n    const before = { Q, P, T, offline };\r\n    \r\n    // TEK KAYNAK: sadece burada state güncelle\r\n    setOffline(newValue);\r\n    await counterSync.updateCounter('offline', newValue);\r\n    \r\n    const after = { Q, P, T, offline: newValue };\r\n    logAction('Toggle Offline', before, after);\r\n    \r\n    // Doğru eşleme: offline=true → yeşil → \"Offline moda geçildi\"\r\n    setTimeout(() => {\r\n      console.log(`🔄 Toggle completed: offline=${newValue}`);\r\n      toast.info(newValue ? '📱 Offline moda geçildi' : '🌐 Online moda geçildi');\r\n    }, 50);\r\n  };\r\n\r\n  // 🔄 2) Barkod Tara / Oku - API Senkronize\r\n  const simulateScan = async (barcode) => {\r\n    if (!checkDebounce()) return;\r\n    \r\n    console.log(`🔄 Barkod Tara clicked: offline=${offline}, Q=${Q}, P=${P}, T=${T}, barcode=${barcode.code}`);\r\n    \r\n    const before = { Q, P, T, offline };\r\n    \r\n    if (offline) {\r\n      // offline = true (yeşil): Q = Q + 1, P değişmez (0'da kalır), T değişmez\r\n      const newQ = Q + 1;\r\n      setQ(newQ);\r\n      await counterSync.updateCounter('Q', newQ);\r\n      \r\n      // Kuyruğa ekle\r\n      if (offlineQueue) {\r\n        const scanData = {\r\n          type: 'barcode_scan',\r\n          barcode: barcode.code,\r\n          barcode_type: barcode.type,\r\n          timestamp: Date.now(),\r\n          valid: barcode.valid\r\n        };\r\n        await offlineQueue.addToQueue(scanData);\r\n        await updateQueueItems();\r\n      }\r\n      \r\n      const after = { Q: newQ, P, T, offline };\r\n      logAction('Barkod Tara (Offline)', before, after);\r\n      \r\n      toast.success(`📥 Çevrimdışı: kuyruğa eklendi (Q=${newQ})`);\r\n      \r\n    } else {\r\n      // offline = false (gri): P = 1 (işlem başladı)\r\n      setP(1);\r\n      await counterSync.updateCounter('P', 1);\r\n      \r\n      const afterStart = { Q, P: 1, T, offline };\r\n      logAction('Barkod Tara (Online) - Başladı', before, afterStart);\r\n      \r\n      try {\r\n        // Simülasyon - işleme süresi (1000ms)\r\n        await new Promise(resolve => setTimeout(resolve, 1000));\r\n        \r\n        // Sonuca göre:\r\n        if (barcode.valid) {\r\n          const newT = T + 1;\r\n          setT(newT);\r\n          await counterSync.updateCounter('T', newT);\r\n          add24hTotal(1);\r\n          \r\n          const afterSuccess = { Q, P: 0, T: newT, offline };\r\n          setP(0); // P = 0 (işlem bitti)\r\n          await counterSync.updateCounter('P', 0);\r\n          logAction('Barkod Tara (Online) - Başarılı', afterStart, afterSuccess);\r\n          \r\n          setTimeout(() => {\r\n            toast.success(`✅ Barkod işlendi (T=${newT})`);\r\n          }, 200);\r\n          \r\n        } else {\r\n          // Başarısız: T değişmez\r\n          setP(0); // P = 0 (işlem bitti)\r\n          await counterSync.updateCounter('P', 0);\r\n          \r\n          const afterFailed = { Q, P: 0, T, offline };\r\n          logAction('Barkod Tara (Online) - Başarısız', afterStart, afterFailed);\r\n          \r\n          setTimeout(() => {\r\n            toast.error('❌ İşlem başarısız');\r\n          }, 200);\r\n        }\r\n        \r\n      } catch (error) {\r\n        // Hata durumu: P = 0, T değişmez\r\n        setP(0);\r\n        await counterSync.updateCounter('P', 0);\r\n        toast.error('❌ İşlem hatası');\r\n      }\r\n    }\r\n  };\r\n\r\n  // 🔄 3) Kuyruğu İşle (yalnız online ve Q>0 iken) - API Senkronize\r\n  const processQueue = async () => {\r\n    if (!checkDebounce()) return;\r\n    \r\n    console.log(`🔄 Kuyruğu İşle clicked: offline=${offline}, Q=${Q}, P=${P}, T=${T}`);\r\n    \r\n    if (offline) {\r\n      console.log('🚫 Kuyruğu İşle blocked: offline mode');\r\n      toast.warning('⚠️ Offline modda kuyruk işlenez');\r\n      return;\r\n    }\r\n\r\n    if (Q === 0) {\r\n      toast.info('ℹ️ Kuyruk boş');\r\n      return;\r\n    }\r\n\r\n    const before = { Q, P, T, offline };\r\n    const batchSize = 5;\r\n    let currentQ = Q;\r\n    let currentT = T;\r\n    \r\n    try {\r\n      // Batch'ler halinde işle\r\n      while (currentQ > 0) {\r\n        const currentBatchSize = Math.min(currentQ, batchSize);\r\n        setP(currentBatchSize);\r\n        await counterSync.updateCounter('P', currentBatchSize);\r\n        \r\n        console.log(`⚡ Batch başladı: P=${currentBatchSize}, Q=${currentQ}`);\r\n        \r\n        await new Promise(resolve => setTimeout(resolve, 2000));\r\n        \r\n        const successCount = Math.floor(currentBatchSize * 0.85) || Math.min(1, currentBatchSize);\r\n        \r\n        for (let i = 0; i < currentBatchSize; i++) {\r\n          if (i < successCount) {\r\n            currentT++;\r\n            setT(currentT);\r\n            await counterSync.updateCounter('T', currentT);\r\n            add24hTotal(1);\r\n          }\r\n          currentQ--;\r\n          setQ(currentQ);\r\n          await counterSync.updateCounter('Q', currentQ);\r\n          setP(Math.max(0, currentBatchSize - i - 1));\r\n          await counterSync.updateCounter('P', Math.max(0, currentBatchSize - i - 1));\r\n          \r\n          await new Promise(resolve => setTimeout(resolve, 100));\r\n        }\r\n        \r\n        console.log(`✅ Batch tamamlandı: Q=${currentQ}, T=${currentT}, P=0`);\r\n      }\r\n      \r\n      setP(0);\r\n      await counterSync.updateCounter('P', 0);\r\n      const after = { Q: currentQ, P: 0, T: currentT, offline };\r\n      logAction('Kuyruğu İşle - Tamamlandı', before, after);\r\n      \r\n      if (offlineQueue) {\r\n        await offlineQueue.clearQueue();\r\n        await updateQueueItems();\r\n      }\r\n      \r\n      toast.success(`🎉 Kuyruk işlendi: ${currentT - before.T} başarılı`);\r\n      \r\n    } catch (error) {\r\n      setP(0);\r\n      await counterSync.updateCounter('P', 0);\r\n      toast.error('❌ Kuyruk işleme hatası');\r\n    }\r\n  };\r\n\r\n  // 🔄 4) Kuyruğu Temizle (onaydan sonra) - API Senkronize\r\n  const clearQueue = async () => {\r\n    if (!checkDebounce()) return;\r\n    \r\n    console.log(`🔄 Kuyruğu Temizle clicked: offline=${offline}, Q=${Q}, P=${P}, T=${T}`);\r\n    \r\n    if (Q === 0) {\r\n      console.log('🚫 Kuyruğu Temizle blocked: Q=0');\r\n      toast.info('ℹ️ Kuyruk zaten boş');\r\n      return;\r\n    }\r\n    \r\n    const before = { Q, P, T, offline };\r\n    \r\n    if (P === 0) {\r\n      setQ(0);\r\n      await counterSync.updateCounter('Q', 0);\r\n\r\n      if (offlineQueue) {\r\n        await offlineQueue.clearQueue();\r\n        await updateQueueItems();\r\n      }\r\n      \r\n      const after = { Q: 0, P, T, offline };\r\n      logAction('Kuyruğu Temizle', before, after);\r\n      \r\n      toast.success(`🗑️ Kuyruk temizlendi (${before.Q} kayıt)`);\r\n      \r\n    } else {\r\n      setP(0);\r\n      setQ(0);\r\n      await counterSync.updateCounters({ P: 0, Q: 0 });\r\n      \r\n      if (offlineQueue) {\r\n        await offlineQueue.clearQueue();\r\n        await updateQueueItems();\r\n      }\r\n      \r\n      const after = { Q: 0, P: 0, T, offline };\r\n      logAction('Kuyruğu Temizle (İşlem İptal)', before, after);\r\n      \r\n      toast.success(`🛑 İşlem durduruldu ve kuyruk temizlendi (${before.Q} kayıt)`);\r\n    }\r\n  };\r\n\r\n  const updateQueueItems = async () => {\r\n    if (offlineQueue) {\r\n      const items = await offlineQueue.getQueue();\r\n      setQueueItems(items);\r\n      if (onUpdate) onUpdate();\r\n    }\r\n  };\r\n\r\n  // Initialization - sayaçları API'den senkronize et\r\n  useEffect(() => {\r\n    const initializeCounters = async () => {\r\n      // 1. API'den global sayaçları çek\r\n      const apiCounters = await counterSync.getCounters();\r\n      if (apiCounters) {\r\n        setQ(apiCounters.Q);\r\n        setP(apiCounters.P);\r\n        setT(apiCounters.T);\r\n        setOffline(apiCounters.offline);\r\n        console.log(`🔄 API'den yüklendi:`, apiCounters);\r\n      }\r\n      \r\n      // 2. Lokal kuyruk verilerini yükle\r\n      if (offlineQueue) {\r\n        const queue = await offlineQueue.getQueue();\r\n        setQueueItems(queue);\r\n      }\r\n    };\r\n    \r\n    initializeCounters();\r\n    \r\n    // Otomatik senkronizasyon başlat\r\n    counterSync.startAutoSync(2000);\r\n    \r\n    // API değişikliklerini dinle\r\n    const unsubscribe = counterSync.addListener((newCounters) => {\r\n      console.log('🔄 API güncellemesi:', newCounters);\r\n      setQ(newCounters.Q);\r\n      setP(newCounters.P);\r\n      setT(newCounters.T);\r\n      setOffline(newCounters.offline);\r\n    });\r\n    \r\n    return () => {\r\n      counterSync.stopAutoSync();\r\n      unsubscribe();\r\n    };\r\n  }, [offlineQueue]);\r\n\r\n  // 24 saatlik toplama ekleme (T artırmak için)\r\n  const add24hTotal = (count = 1) => {\r\n    const now = new Date().toISOString();\r\n    const records = JSON.parse(localStorage.getItem('24h_records') || '[]');\r\n    for (let i = 0; i < count; i++) {\r\n      records.push({ timestamp: now });\r\n    }\r\n    \r\n    const oneDayAgo = new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString();\r\n    const filteredRecords = records.filter(record => record.timestamp > oneDayAgo);\r\n    \r\n    localStorage.setItem('24h_records', JSON.stringify(filteredRecords));\r\n  };\r\n\r\n  // 🔄 RENDER LOG - State takibi\r\n  console.log(`🔄 render: offline=${offline}, Q=${Q}, P=${P}, T=${T}`);\r\n\r\n  return (\r\n    <div className=\"barcode-scanner\">\r\n      {/* Header */}\r\n      <div className=\"scanner-header\">\r\n        <h1 className=\"scanner-title\">🔄 Senkronize Barkod Sistemi</h1>\r\n        <div className={`status-badge ${offline ? 'offline' : 'online'}`}>\r\n          {offline ? '📱 Offline' : '🌐 Online'} • Senkronize\r\n        </div>\r\n      </div>\r\n\r\n      {/* Q/P/T Sayaç Kutucukları - API SENKRONIZE */}\r\n      <div className=\"stats-section\">\r\n        <div className=\"stats-grid\">\r\n          <div className=\"stat-card queue\">\r\n            <div className=\"stat-value\">{Q}</div>\r\n            <div className=\"stat-label\">Kuyruk</div>\r\n          </div>\r\n          <div className=\"stat-card processing\">\r\n            <div className=\"stat-value\">{P}</div>\r\n            <div className=\"stat-label\">İşleniyor</div>\r\n          </div>\r\n          <div className=\"stat-card total\">\r\n            <div className=\"stat-value\">{T}</div>\r\n            <div className=\"stat-label\">Toplam</div>\r\n            <div className=\"stat-subtitle\">24 saat</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Offline Toggle */}\r\n      <div className=\"toggle-section\">\r\n        <div className=\"toggle-wrapper\">\r\n          <span className=\"toggle-label\">Offline Modu</span>\r\n          <div \r\n            className=\"toggle-hit-area\"\r\n            onClick={() => handleOfflineModeToggle(!offline)}\r\n            onTouchStart={(e) => {\r\n              e.preventDefault();\r\n            }}\r\n            onTouchEnd={(e) => {\r\n              e.preventDefault();\r\n            }}\r\n            style={{\r\n              minWidth: '44px',\r\n              minHeight: '44px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              touchAction: 'manipulation',\r\n              cursor: 'pointer',\r\n              WebkitTapHighlightColor: 'transparent',\r\n              zIndex: 10 // Toast üstüne çık\r\n            }}\r\n          >\r\n            <button \r\n              className={`toggle-switch ${offline ? 'active' : ''}`}\r\n              style={{ pointerEvents: 'none' }}\r\n              data-offline={offline}\r\n              data-class={offline ? 'active' : 'inactive'}\r\n            >\r\n              <div className=\"toggle-handle\"></div>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Action Buttons */}\r\n      <div className=\"action-section\">\r\n        <button \r\n          className=\"action-btn primary\"\r\n          onClick={processQueue}\r\n          onTouchStart={(e) => {\r\n            if (!e.currentTarget.disabled) {\r\n              e.currentTarget.style.transform = 'scale(0.95)';\r\n            }\r\n          }}\r\n          onTouchEnd={(e) => {\r\n            setTimeout(() => {\r\n              e.currentTarget.style.transform = '';\r\n            }, 150);\r\n          }}\r\n          disabled={offline || Q === 0 || P > 0}\r\n          title={\r\n            offline \r\n              ? 'Offline modda pasif - Online moda geçin' \r\n              : Q === 0 \r\n                ? 'Kuyruk boş - önce barkod ekleyin'\r\n                : P > 0\r\n                  ? 'İşlem devam ediyor'\r\n                  : 'Kuyruktaki barkodları toplu işle'\r\n          }\r\n        >\r\n          <FaSync className={P > 0 ? 'spinning' : ''} />\r\n          {P > 0 ? 'İşleniyor...' : 'Kuyruğu İşle'}\r\n        </button>\r\n\r\n        <button \r\n          className=\"action-btn danger\"\r\n          onClick={() => {\r\n            if (Q === 0) {\r\n              toast.info('ℹ️ Kuyruk zaten boş');\r\n              return;\r\n            }\r\n            setShowClearModal(true);\r\n          }}\r\n          onTouchStart={(e) => {\r\n            if (!e.currentTarget.disabled) {\r\n              e.currentTarget.style.transform = 'scale(0.95)';\r\n            }\r\n          }}\r\n          onTouchEnd={(e) => {\r\n            setTimeout(() => {\r\n              e.currentTarget.style.transform = '';\r\n            }, 150);\r\n          }}\r\n          disabled={Q === 0}\r\n          title={\r\n            Q === 0 \r\n              ? 'Kuyruk boş - temizlenecek barkod yok'\r\n              : `${Q} barkod var - kuyruğu temizle`\r\n          }\r\n        >\r\n          <FaTrash />\r\n          Temizle\r\n        </button>\r\n      </div>\r\n\r\n      {/* Test Barkodları */}\r\n      <div className=\"test-section\">\r\n        <h2 className=\"section-title\">Test Barkodları</h2>\r\n        <div className=\"test-grid\">\r\n          {testBarcodes.map((barcode, index) => (\r\n            <div \r\n              key={index}\r\n              className={`test-card ${barcode.valid ? 'valid' : 'invalid'}`}\r\n              onClick={() => simulateScan(barcode)}\r\n              onTouchStart={(e) => {\r\n                e.currentTarget.style.transform = 'scale(0.95)';\r\n              }}\r\n              onTouchEnd={(e) => {\r\n                setTimeout(() => {\r\n                  e.currentTarget.style.transform = '';\r\n                }, 150);\r\n              }}\r\n              style={{\r\n                cursor: 'pointer',\r\n                WebkitTapHighlightColor: 'transparent'\r\n              }}\r\n            >\r\n              <div className=\"barcode-icon\">\r\n                <FaBarcode />\r\n              </div>\r\n              <div className=\"barcode-info\">\r\n                <div className=\"barcode-code\">{barcode.code}</div>\r\n                <div className=\"barcode-type\">{barcode.type}</div>\r\n                <div className={`barcode-status ${barcode.valid ? 'valid' : 'invalid'}`}>\r\n                  {barcode.valid ? '✅ Geçerli' : '❌ Geçersiz'}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Queue Items */}\r\n      <div className=\"queue-section\">\r\n        <h3 className=\"queue-title\">\r\n          Kuyruk ({queueItems.length})\r\n        </h3>\r\n        \r\n        {queueItems.length === 0 ? (\r\n          <div className=\"empty-queue\">\r\n            <FaInfoCircle />\r\n            <span>Kuyruk boş</span>\r\n          </div>\r\n        ) : (\r\n          <div className=\"queue-list\">\r\n            {queueItems.map((item, index) => (\r\n              <div key={item.id} className=\"queue-item\">\r\n                <div className=\"item-info\">\r\n                  <span className=\"item-barcode\">{item.data?.barcode || 'N/A'}</span>\r\n                  <span className=\"item-type\">{item.data?.type || 'scan'}</span>\r\n                  <span className={`item-status ${item.data?.status || 'pending'}`}>\r\n                    {item.data?.status === 'pending' && '⏳ Bekliyor'}\r\n                    {item.data?.status === 'processing' && '🔄 İşleniyor'}\r\n                    {item.data?.status === 'success' && '✅ Başarılı'}\r\n                    {item.data?.status === 'error' && '❌ Hatalı'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {Q >= 100 && (\r\n          <div className=\"long-queue-warning\">\r\n            <FaInfoCircle />\r\n            <span>Kuyruk büyük, arka planda gönderiliyor...</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Temizleme Onay Modalı */}\r\n      {showClearModal && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal\">\r\n            <h4>Kuyruğu temizle</h4>\r\n            <p>Kuyrukta <strong>{Q}</strong> kayıt var. Bu işlem geri alınamaz.</p>\r\n            {P > 0 && (\r\n              <div className=\"warning-text\">\r\n                ⚠️ Şu anda {P} barkod işleniyor. İşlemi durdurup kuyruğu temizlemek istiyor musunuz?\r\n              </div>\r\n            )}\r\n            <div className=\"modal-buttons\">\r\n              <button \r\n                className=\"btn btn-secondary\"\r\n                onClick={() => setShowClearModal(false)}\r\n              >\r\n                Vazgeç\r\n              </button>\r\n              <button \r\n                className=\"btn btn-danger\"\r\n                onClick={() => {\r\n                  clearQueue();\r\n                  setShowClearModal(false);\r\n                }}\r\n              >\r\n                {P > 0 ? 'Evet, durdur ve sil' : 'Evet, temizle'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SyncedBarcodeScanner;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
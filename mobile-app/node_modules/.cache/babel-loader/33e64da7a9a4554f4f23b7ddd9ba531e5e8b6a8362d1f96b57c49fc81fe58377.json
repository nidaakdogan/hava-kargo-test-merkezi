{"ast":null,"code":"import React,{useState,useEffect}from'react';import{toast}from'react-toastify';import{FaBarcode,FaToggleOn,FaToggleOff,FaTrash,FaSync,FaInfoCircle,FaExclamationTriangle}from'react-icons/fa';import{counterSync}from'../services/CounterSyncService';import'./BarcodeScanner.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SyncedBarcodeScanner=_ref=>{let{offlineQueue,onUpdate}=_ref;// üéØ TEK KAYNAKLI DURUM MODELƒ∞ - 4 Ana State (API Senkronize)\nconst[offline,setOffline]=useState(false);// true/false\nconst[Q,setQ]=useState(0);// kuyruk: tamsayƒ±\nconst[P,setP]=useState(0);// i≈üleniyor: tamsayƒ±\nconst[T,setT]=useState(0);// toplam: tamsayƒ±\n// Yardƒ±mcƒ± state (UI i√ßin)\nconst[queueItems,setQueueItems]=useState([]);const[showClearModal,setShowClearModal]=useState(false);// Debounce koruma - 300ms\nconst[lastActionTime,setLastActionTime]=useState(0);const DEBOUNCE_DELAY=300;const testBarcodes=[{code:'ULD-AKE12345AB',type:'ULD',valid:true},{code:'123-45678901',type:'AWB',valid:true},{code:'ULD-ABC123',type:'ULD',valid:false},{code:'INVALID-CODE',type:'INVALID',valid:false}];// Debounce check fonksiyonu\nconst checkDebounce=()=>{const now=Date.now();if(now-lastActionTime<DEBOUNCE_DELAY){console.log('‚ö†Ô∏è Debounced - √ßok hƒ±zlƒ± tƒ±klama');return false;}setLastActionTime(now);return true;};// Aksiyon logu helper\nconst logAction=(action,before,after)=>{console.log(\"\".concat(action,\": \\xF6nce Q=\").concat(before.Q,\",P=\").concat(before.P,\",T=\").concat(before.T,\", offline=\").concat(before.offline,\" \\u2192 sonra Q=\").concat(after.Q,\",P=\").concat(after.P,\",T=\").concat(after.T,\", offline=\").concat(after.offline));};// üîÑ 1) Toggle: Offline Modu - TEK KAYNAK KONTROLL√ú\nconst handleOfflineModeToggle=async newValue=>{if(!checkDebounce()){console.log('‚ö†Ô∏è Toggle debounced - √ßok hƒ±zlƒ± tƒ±klama');return;}console.log(\"\\uD83D\\uDD04 onChange: set offline = \".concat(newValue,\" (\\xF6nceki: \").concat(offline,\")\"));const before={Q,P,T,offline};// TEK KAYNAK: sadece burada state g√ºncelle\nsetOffline(newValue);await counterSync.updateCounter('offline',newValue);const after={Q,P,T,offline:newValue};logAction('Toggle Offline',before,after);// Doƒüru e≈üleme: offline=true ‚Üí ye≈üil ‚Üí \"Offline moda ge√ßildi\"\nsetTimeout(()=>{console.log(\"\\uD83D\\uDD04 Toggle completed: offline=\".concat(newValue));toast.info(newValue?'üì± Offline moda ge√ßildi':'üåê Online moda ge√ßildi');},50);};// üîÑ 2) Barkod Tara / Oku - API Senkronize\nconst simulateScan=async barcode=>{if(!checkDebounce())return;console.log(\"\\uD83D\\uDD04 Barkod Tara clicked: offline=\".concat(offline,\", Q=\").concat(Q,\", P=\").concat(P,\", T=\").concat(T,\", barcode=\").concat(barcode.code));const before={Q,P,T,offline};if(offline){// offline = true (ye≈üil): Q = Q + 1, P deƒüi≈ümez (0'da kalƒ±r), T deƒüi≈ümez\nconst newQ=Q+1;setQ(newQ);await counterSync.updateCounter('Q',newQ);// Kuyruƒüa ekle\nif(offlineQueue){const scanData={type:'barcode_scan',barcode:barcode.code,barcode_type:barcode.type,timestamp:Date.now(),valid:barcode.valid};await offlineQueue.addToQueue(scanData);await updateQueueItems();}const after={Q:newQ,P,T,offline};logAction('Barkod Tara (Offline)',before,after);toast.success(\"\\uD83D\\uDCE5 \\xC7evrimd\\u0131\\u015F\\u0131: kuyru\\u011Fa eklendi (Q=\".concat(newQ,\")\"));}else{// offline = false (gri): P = 1 (i≈ülem ba≈üladƒ±)\nsetP(1);await counterSync.updateCounter('P',1);const afterStart={Q,P:1,T,offline};logAction('Barkod Tara (Online) - Ba≈üladƒ±',before,afterStart);try{// Sim√ºlasyon - i≈üleme s√ºresi (1000ms)\nawait new Promise(resolve=>setTimeout(resolve,1000));// Sonuca g√∂re:\nif(barcode.valid){const newT=T+1;setT(newT);await counterSync.updateCounter('T',newT);add24hTotal(1);const afterSuccess={Q,P:0,T:newT,offline};setP(0);// P = 0 (i≈ülem bitti)\nawait counterSync.updateCounter('P',0);logAction('Barkod Tara (Online) - Ba≈üarƒ±lƒ±',afterStart,afterSuccess);setTimeout(()=>{toast.success(\"\\u2705 Barkod i\\u015Flendi (T=\".concat(newT,\")\"));},200);}else{// Ba≈üarƒ±sƒ±z: T deƒüi≈ümez\nsetP(0);// P = 0 (i≈ülem bitti)\nawait counterSync.updateCounter('P',0);const afterFailed={Q,P:0,T,offline};logAction('Barkod Tara (Online) - Ba≈üarƒ±sƒ±z',afterStart,afterFailed);setTimeout(()=>{toast.error('‚ùå ƒ∞≈ülem ba≈üarƒ±sƒ±z');},200);}}catch(error){// Hata durumu: P = 0, T deƒüi≈ümez\nsetP(0);await counterSync.updateCounter('P',0);toast.error('‚ùå ƒ∞≈ülem hatasƒ±');}}};// üîÑ 3) Kuyruƒüu ƒ∞≈üle (yalnƒ±z online ve Q>0 iken) - API Senkronize\nconst processQueue=async()=>{if(!checkDebounce())return;console.log(\"\\uD83D\\uDD04 Kuyru\\u011Fu \\u0130\\u015Fle clicked: offline=\".concat(offline,\", Q=\").concat(Q,\", P=\").concat(P,\", T=\").concat(T));if(offline){console.log('üö´ Kuyruƒüu ƒ∞≈üle blocked: offline mode');toast.warning('‚ö†Ô∏è Offline modda kuyruk i≈ülenez');return;}if(Q===0){toast.info('‚ÑπÔ∏è Kuyruk bo≈ü');return;}const before={Q,P,T,offline};const batchSize=5;let currentQ=Q;let currentT=T;try{// Batch'ler halinde i≈üle\nwhile(currentQ>0){const currentBatchSize=Math.min(currentQ,batchSize);setP(currentBatchSize);await counterSync.updateCounter('P',currentBatchSize);console.log(\"\\u26A1 Batch ba\\u015Flad\\u0131: P=\".concat(currentBatchSize,\", Q=\").concat(currentQ));await new Promise(resolve=>setTimeout(resolve,2000));const successCount=Math.floor(currentBatchSize*0.85)||Math.min(1,currentBatchSize);for(let i=0;i<currentBatchSize;i++){if(i<successCount){currentT++;setT(currentT);await counterSync.updateCounter('T',currentT);add24hTotal(1);}currentQ--;setQ(currentQ);await counterSync.updateCounter('Q',currentQ);setP(Math.max(0,currentBatchSize-i-1));await counterSync.updateCounter('P',Math.max(0,currentBatchSize-i-1));await new Promise(resolve=>setTimeout(resolve,100));}console.log(\"\\u2705 Batch tamamland\\u0131: Q=\".concat(currentQ,\", T=\").concat(currentT,\", P=0\"));}setP(0);await counterSync.updateCounter('P',0);const after={Q:currentQ,P:0,T:currentT,offline};logAction('Kuyruƒüu ƒ∞≈üle - Tamamlandƒ±',before,after);if(offlineQueue){await offlineQueue.clearQueue();await updateQueueItems();}toast.success(\"\\uD83C\\uDF89 Kuyruk i\\u015Flendi: \".concat(currentT-before.T,\" ba\\u015Far\\u0131l\\u0131\"));}catch(error){setP(0);await counterSync.updateCounter('P',0);toast.error('‚ùå Kuyruk i≈üleme hatasƒ±');}};// üîÑ 4) Kuyruƒüu Temizle (onaydan sonra) - API Senkronize\nconst clearQueue=async()=>{if(!checkDebounce())return;console.log(\"\\uD83D\\uDD04 Kuyru\\u011Fu Temizle clicked: offline=\".concat(offline,\", Q=\").concat(Q,\", P=\").concat(P,\", T=\").concat(T));if(Q===0){console.log('üö´ Kuyruƒüu Temizle blocked: Q=0');toast.info('‚ÑπÔ∏è Kuyruk zaten bo≈ü');return;}const before={Q,P,T,offline};if(P===0){setQ(0);await counterSync.updateCounter('Q',0);if(offlineQueue){await offlineQueue.clearQueue();await updateQueueItems();}const after={Q:0,P,T,offline};logAction('Kuyruƒüu Temizle',before,after);toast.success(\"\\uD83D\\uDDD1\\uFE0F Kuyruk temizlendi (\".concat(before.Q,\" kay\\u0131t)\"));}else{setP(0);setQ(0);await counterSync.updateCounters({P:0,Q:0});if(offlineQueue){await offlineQueue.clearQueue();await updateQueueItems();}const after={Q:0,P:0,T,offline};logAction('Kuyruƒüu Temizle (ƒ∞≈ülem ƒ∞ptal)',before,after);toast.success(\"\\uD83D\\uDED1 \\u0130\\u015Flem durduruldu ve kuyruk temizlendi (\".concat(before.Q,\" kay\\u0131t)\"));}};const updateQueueItems=async()=>{if(offlineQueue){const items=await offlineQueue.getQueue();setQueueItems(items);if(onUpdate)onUpdate();}};// Initialization - saya√ßlarƒ± API'den senkronize et\nuseEffect(()=>{const initializeCounters=async()=>{// 1. API'den global saya√ßlarƒ± √ßek\nconst apiCounters=await counterSync.getCounters();if(apiCounters){setQ(apiCounters.Q);setP(apiCounters.P);setT(apiCounters.T);setOffline(apiCounters.offline);console.log(\"\\uD83D\\uDD04 API'den y\\xFCklendi:\",apiCounters);}// 2. Lokal kuyruk verilerini y√ºkle\nif(offlineQueue){const queue=await offlineQueue.getQueue();setQueueItems(queue);}};initializeCounters();// Otomatik senkronizasyon ba≈ülat\ncounterSync.startAutoSync(2000);// API deƒüi≈üikliklerini dinle\nconst unsubscribe=counterSync.addListener(newCounters=>{console.log('üîÑ API g√ºncellemesi:',newCounters);setQ(newCounters.Q);setP(newCounters.P);setT(newCounters.T);setOffline(newCounters.offline);});return()=>{counterSync.stopAutoSync();unsubscribe();};},[offlineQueue]);// 24 saatlik toplama ekleme (T artƒ±rmak i√ßin)\nconst add24hTotal=function(){let count=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;const now=new Date().toISOString();const records=JSON.parse(localStorage.getItem('24h_records')||'[]');for(let i=0;i<count;i++){records.push({timestamp:now});}const oneDayAgo=new Date(Date.now()-24*60*60*1000).toISOString();const filteredRecords=records.filter(record=>record.timestamp>oneDayAgo);localStorage.setItem('24h_records',JSON.stringify(filteredRecords));};// üîÑ RENDER LOG - State takibi\nconsole.log(\"\\uD83D\\uDD04 render: offline=\".concat(offline,\", Q=\").concat(Q,\", P=\").concat(P,\", T=\").concat(T));return/*#__PURE__*/_jsxs(\"div\",{className:\"barcode-scanner\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"scanner-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"scanner-title\",children:\"\\uD83D\\uDD04 Senkronize Barkod Sistemi\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-badge \".concat(offline?'offline':'online'),children:[offline?'üì± Offline':'üåê Online',\" \\u2022 Senkronize\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"stats-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card queue\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:Q}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Kuyruk\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card processing\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:P}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"\\u0130\\u015Fleniyor\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card total\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:T}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Toplam\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-subtitle\",children:\"24 saat\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"toggle-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"toggle-wrapper\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"toggle-label\",children:\"Offline Modu\"}),/*#__PURE__*/_jsx(\"div\",{className:\"toggle-hit-area\",onClick:()=>handleOfflineModeToggle(!offline),onTouchStart:e=>{e.preventDefault();},onTouchEnd:e=>{e.preventDefault();},style:{minWidth:'44px',minHeight:'44px',display:'flex',alignItems:'center',justifyContent:'center',touchAction:'manipulation',cursor:'pointer',WebkitTapHighlightColor:'transparent',zIndex:10// Toast √ºst√ºne √ßƒ±k\n},children:/*#__PURE__*/_jsx(\"button\",{className:\"toggle-switch \".concat(offline?'active':''),style:{pointerEvents:'none'},\"data-offline\":offline,\"data-class\":offline?'active':'inactive',children:/*#__PURE__*/_jsx(\"div\",{className:\"toggle-handle\"})})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-section\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"action-btn primary\",onClick:processQueue,onTouchStart:e=>{if(!e.currentTarget.disabled){e.currentTarget.style.transform='scale(0.95)';}},onTouchEnd:e=>{setTimeout(()=>{e.currentTarget.style.transform='';},150);},disabled:offline||Q===0||P>0,title:offline?'Offline modda pasif - Online moda ge√ßin':Q===0?'Kuyruk bo≈ü - √∂nce barkod ekleyin':P>0?'ƒ∞≈ülem devam ediyor':'Kuyruktaki barkodlarƒ± toplu i≈üle',children:[/*#__PURE__*/_jsx(FaSync,{className:P>0?'spinning':''}),P>0?'ƒ∞≈üleniyor...':'Kuyruƒüu ƒ∞≈üle']}),/*#__PURE__*/_jsxs(\"button\",{className:\"action-btn danger\",onClick:()=>{if(Q===0){toast.info('‚ÑπÔ∏è Kuyruk zaten bo≈ü');return;}setShowClearModal(true);},onTouchStart:e=>{if(!e.currentTarget.disabled){e.currentTarget.style.transform='scale(0.95)';}},onTouchEnd:e=>{setTimeout(()=>{e.currentTarget.style.transform='';},150);},disabled:Q===0,title:Q===0?'Kuyruk bo≈ü - temizlenecek barkod yok':\"\".concat(Q,\" barkod var - kuyru\\u011Fu temizle\"),children:[/*#__PURE__*/_jsx(FaTrash,{}),\"Temizle\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"test-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Test Barkodlar\\u0131\"}),/*#__PURE__*/_jsx(\"div\",{className:\"test-grid\",children:testBarcodes.map((barcode,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"test-card \".concat(barcode.valid?'valid':'invalid'),onClick:()=>simulateScan(barcode),onTouchStart:e=>{e.currentTarget.style.transform='scale(0.95)';},onTouchEnd:e=>{setTimeout(()=>{e.currentTarget.style.transform='';},150);},style:{cursor:'pointer',WebkitTapHighlightColor:'transparent'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"barcode-icon\",children:/*#__PURE__*/_jsx(FaBarcode,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"barcode-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"barcode-code\",children:barcode.code}),/*#__PURE__*/_jsx(\"div\",{className:\"barcode-type\",children:barcode.type}),/*#__PURE__*/_jsx(\"div\",{className:\"barcode-status \".concat(barcode.valid?'valid':'invalid'),children:barcode.valid?'‚úÖ Ge√ßerli':'‚ùå Ge√ßersiz'})]})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"queue-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"queue-title\",children:[\"Kuyruk (\",queueItems.length,\")\"]}),queueItems.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-queue\",children:[/*#__PURE__*/_jsx(FaInfoCircle,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Kuyruk bo\\u015F\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"queue-list\",children:queueItems.map((item,index)=>{var _item$data,_item$data2,_item$data3,_item$data4,_item$data5,_item$data6,_item$data7;return/*#__PURE__*/_jsx(\"div\",{className:\"queue-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"item-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"item-barcode\",children:((_item$data=item.data)===null||_item$data===void 0?void 0:_item$data.barcode)||'N/A'}),/*#__PURE__*/_jsx(\"span\",{className:\"item-type\",children:((_item$data2=item.data)===null||_item$data2===void 0?void 0:_item$data2.type)||'scan'}),/*#__PURE__*/_jsxs(\"span\",{className:\"item-status \".concat(((_item$data3=item.data)===null||_item$data3===void 0?void 0:_item$data3.status)||'pending'),children:[((_item$data4=item.data)===null||_item$data4===void 0?void 0:_item$data4.status)==='pending'&&'‚è≥ Bekliyor',((_item$data5=item.data)===null||_item$data5===void 0?void 0:_item$data5.status)==='processing'&&'üîÑ ƒ∞≈üleniyor',((_item$data6=item.data)===null||_item$data6===void 0?void 0:_item$data6.status)==='success'&&'‚úÖ Ba≈üarƒ±lƒ±',((_item$data7=item.data)===null||_item$data7===void 0?void 0:_item$data7.status)==='error'&&'‚ùå Hatalƒ±']})]})},item.id);})}),Q>=100&&/*#__PURE__*/_jsxs(\"div\",{className:\"long-queue-warning\",children:[/*#__PURE__*/_jsx(FaInfoCircle,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Kuyruk b\\xFCy\\xFCk, arka planda g\\xF6nderiliyor...\"})]})]}),showClearModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Kuyru\\u011Fu temizle\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Kuyrukta \",/*#__PURE__*/_jsx(\"strong\",{children:Q}),\" kay\\u0131t var. Bu i\\u015Flem geri al\\u0131namaz.\"]}),P>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"warning-text\",children:[\"\\u26A0\\uFE0F \\u015Eu anda \",P,\" barkod i\\u015Fleniyor. \\u0130\\u015Flemi durdurup kuyru\\u011Fu temizlemek istiyor musunuz?\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:()=>setShowClearModal(false),children:\"Vazge\\xE7\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:()=>{clearQueue();setShowClearModal(false);},children:P>0?'Evet, durdur ve sil':'Evet, temizle'})]})]})})]});};export default SyncedBarcodeScanner;","map":{"version":3,"names":["React","useState","useEffect","toast","FaBarcode","FaToggleOn","FaToggleOff","FaTrash","FaSync","FaInfoCircle","FaExclamationTriangle","counterSync","jsx","_jsx","jsxs","_jsxs","SyncedBarcodeScanner","_ref","offlineQueue","onUpdate","offline","setOffline","Q","setQ","P","setP","T","setT","queueItems","setQueueItems","showClearModal","setShowClearModal","lastActionTime","setLastActionTime","DEBOUNCE_DELAY","testBarcodes","code","type","valid","checkDebounce","now","Date","console","log","logAction","action","before","after","concat","handleOfflineModeToggle","newValue","updateCounter","setTimeout","info","simulateScan","barcode","newQ","scanData","barcode_type","timestamp","addToQueue","updateQueueItems","success","afterStart","Promise","resolve","newT","add24hTotal","afterSuccess","afterFailed","error","processQueue","warning","batchSize","currentQ","currentT","currentBatchSize","Math","min","successCount","floor","i","max","clearQueue","updateCounters","items","getQueue","initializeCounters","apiCounters","getCounters","queue","startAutoSync","unsubscribe","addListener","newCounters","stopAutoSync","count","arguments","length","undefined","toISOString","records","JSON","parse","localStorage","getItem","push","oneDayAgo","filteredRecords","filter","record","setItem","stringify","className","children","onClick","onTouchStart","e","preventDefault","onTouchEnd","style","minWidth","minHeight","display","alignItems","justifyContent","touchAction","cursor","WebkitTapHighlightColor","zIndex","pointerEvents","currentTarget","disabled","transform","title","map","index","item","_item$data","_item$data2","_item$data3","_item$data4","_item$data5","_item$data6","_item$data7","data","status","id"],"sources":["C:/Users/Nƒ∞DAA/Cargo Digital Twin Test Lab/mobile-app/src/components/SyncedBarcodeScanner.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport { FaBarcode, FaToggleOn, FaToggleOff, FaTrash, FaSync, FaInfoCircle, FaExclamationTriangle } from 'react-icons/fa';\r\nimport { counterSync } from '../services/CounterSyncService';\r\nimport './BarcodeScanner.css';\r\n\r\nconst SyncedBarcodeScanner = ({ offlineQueue, onUpdate }) => {\r\n  // üéØ TEK KAYNAKLI DURUM MODELƒ∞ - 4 Ana State (API Senkronize)\r\n  const [offline, setOffline] = useState(false);  // true/false\r\n  const [Q, setQ] = useState(0);                  // kuyruk: tamsayƒ±\r\n  const [P, setP] = useState(0);                  // i≈üleniyor: tamsayƒ±\r\n  const [T, setT] = useState(0);                  // toplam: tamsayƒ±\r\n  \r\n  // Yardƒ±mcƒ± state (UI i√ßin)\r\n  const [queueItems, setQueueItems] = useState([]);\r\n  const [showClearModal, setShowClearModal] = useState(false);\r\n  \r\n  // Debounce koruma - 300ms\r\n  const [lastActionTime, setLastActionTime] = useState(0);\r\n  const DEBOUNCE_DELAY = 300;\r\n\r\n  const testBarcodes = [\r\n    { code: 'ULD-AKE12345AB', type: 'ULD', valid: true },\r\n    { code: '123-45678901', type: 'AWB', valid: true },\r\n    { code: 'ULD-ABC123', type: 'ULD', valid: false },\r\n    { code: 'INVALID-CODE', type: 'INVALID', valid: false }\r\n  ];\r\n\r\n  // Debounce check fonksiyonu\r\n  const checkDebounce = () => {\r\n    const now = Date.now();\r\n    if (now - lastActionTime < DEBOUNCE_DELAY) {\r\n      console.log('‚ö†Ô∏è Debounced - √ßok hƒ±zlƒ± tƒ±klama');\r\n      return false;\r\n    }\r\n    setLastActionTime(now);\r\n    return true;\r\n  };\r\n\r\n  // Aksiyon logu helper\r\n  const logAction = (action, before, after) => {\r\n    console.log(`${action}: √∂nce Q=${before.Q},P=${before.P},T=${before.T}, offline=${before.offline} ‚Üí sonra Q=${after.Q},P=${after.P},T=${after.T}, offline=${after.offline}`);\r\n  };\r\n\r\n  // üîÑ 1) Toggle: Offline Modu - TEK KAYNAK KONTROLL√ú\r\n  const handleOfflineModeToggle = async (newValue) => {\r\n    if (!checkDebounce()) {\r\n      console.log('‚ö†Ô∏è Toggle debounced - √ßok hƒ±zlƒ± tƒ±klama');\r\n      return;\r\n    }\r\n\r\n    console.log(`üîÑ onChange: set offline = ${newValue} (√∂nceki: ${offline})`);\r\n    \r\n    const before = { Q, P, T, offline };\r\n    \r\n    // TEK KAYNAK: sadece burada state g√ºncelle\r\n    setOffline(newValue);\r\n    await counterSync.updateCounter('offline', newValue);\r\n    \r\n    const after = { Q, P, T, offline: newValue };\r\n    logAction('Toggle Offline', before, after);\r\n    \r\n    // Doƒüru e≈üleme: offline=true ‚Üí ye≈üil ‚Üí \"Offline moda ge√ßildi\"\r\n    setTimeout(() => {\r\n      console.log(`üîÑ Toggle completed: offline=${newValue}`);\r\n      toast.info(newValue ? 'üì± Offline moda ge√ßildi' : 'üåê Online moda ge√ßildi');\r\n    }, 50);\r\n  };\r\n\r\n  // üîÑ 2) Barkod Tara / Oku - API Senkronize\r\n  const simulateScan = async (barcode) => {\r\n    if (!checkDebounce()) return;\r\n    \r\n    console.log(`üîÑ Barkod Tara clicked: offline=${offline}, Q=${Q}, P=${P}, T=${T}, barcode=${barcode.code}`);\r\n    \r\n    const before = { Q, P, T, offline };\r\n    \r\n    if (offline) {\r\n      // offline = true (ye≈üil): Q = Q + 1, P deƒüi≈ümez (0'da kalƒ±r), T deƒüi≈ümez\r\n      const newQ = Q + 1;\r\n      setQ(newQ);\r\n      await counterSync.updateCounter('Q', newQ);\r\n      \r\n      // Kuyruƒüa ekle\r\n      if (offlineQueue) {\r\n        const scanData = {\r\n          type: 'barcode_scan',\r\n          barcode: barcode.code,\r\n          barcode_type: barcode.type,\r\n          timestamp: Date.now(),\r\n          valid: barcode.valid\r\n        };\r\n        await offlineQueue.addToQueue(scanData);\r\n        await updateQueueItems();\r\n      }\r\n      \r\n      const after = { Q: newQ, P, T, offline };\r\n      logAction('Barkod Tara (Offline)', before, after);\r\n      \r\n      toast.success(`üì• √áevrimdƒ±≈üƒ±: kuyruƒüa eklendi (Q=${newQ})`);\r\n      \r\n    } else {\r\n      // offline = false (gri): P = 1 (i≈ülem ba≈üladƒ±)\r\n      setP(1);\r\n      await counterSync.updateCounter('P', 1);\r\n      \r\n      const afterStart = { Q, P: 1, T, offline };\r\n      logAction('Barkod Tara (Online) - Ba≈üladƒ±', before, afterStart);\r\n      \r\n      try {\r\n        // Sim√ºlasyon - i≈üleme s√ºresi (1000ms)\r\n        await new Promise(resolve => setTimeout(resolve, 1000));\r\n        \r\n        // Sonuca g√∂re:\r\n        if (barcode.valid) {\r\n          const newT = T + 1;\r\n          setT(newT);\r\n          await counterSync.updateCounter('T', newT);\r\n          add24hTotal(1);\r\n          \r\n          const afterSuccess = { Q, P: 0, T: newT, offline };\r\n          setP(0); // P = 0 (i≈ülem bitti)\r\n          await counterSync.updateCounter('P', 0);\r\n          logAction('Barkod Tara (Online) - Ba≈üarƒ±lƒ±', afterStart, afterSuccess);\r\n          \r\n          setTimeout(() => {\r\n            toast.success(`‚úÖ Barkod i≈ülendi (T=${newT})`);\r\n          }, 200);\r\n          \r\n        } else {\r\n          // Ba≈üarƒ±sƒ±z: T deƒüi≈ümez\r\n          setP(0); // P = 0 (i≈ülem bitti)\r\n          await counterSync.updateCounter('P', 0);\r\n          \r\n          const afterFailed = { Q, P: 0, T, offline };\r\n          logAction('Barkod Tara (Online) - Ba≈üarƒ±sƒ±z', afterStart, afterFailed);\r\n          \r\n          setTimeout(() => {\r\n            toast.error('‚ùå ƒ∞≈ülem ba≈üarƒ±sƒ±z');\r\n          }, 200);\r\n        }\r\n        \r\n      } catch (error) {\r\n        // Hata durumu: P = 0, T deƒüi≈ümez\r\n        setP(0);\r\n        await counterSync.updateCounter('P', 0);\r\n        toast.error('‚ùå ƒ∞≈ülem hatasƒ±');\r\n      }\r\n    }\r\n  };\r\n\r\n  // üîÑ 3) Kuyruƒüu ƒ∞≈üle (yalnƒ±z online ve Q>0 iken) - API Senkronize\r\n  const processQueue = async () => {\r\n    if (!checkDebounce()) return;\r\n    \r\n    console.log(`üîÑ Kuyruƒüu ƒ∞≈üle clicked: offline=${offline}, Q=${Q}, P=${P}, T=${T}`);\r\n    \r\n    if (offline) {\r\n      console.log('üö´ Kuyruƒüu ƒ∞≈üle blocked: offline mode');\r\n      toast.warning('‚ö†Ô∏è Offline modda kuyruk i≈ülenez');\r\n      return;\r\n    }\r\n\r\n    if (Q === 0) {\r\n      toast.info('‚ÑπÔ∏è Kuyruk bo≈ü');\r\n      return;\r\n    }\r\n\r\n    const before = { Q, P, T, offline };\r\n    const batchSize = 5;\r\n    let currentQ = Q;\r\n    let currentT = T;\r\n    \r\n    try {\r\n      // Batch'ler halinde i≈üle\r\n      while (currentQ > 0) {\r\n        const currentBatchSize = Math.min(currentQ, batchSize);\r\n        setP(currentBatchSize);\r\n        await counterSync.updateCounter('P', currentBatchSize);\r\n        \r\n        console.log(`‚ö° Batch ba≈üladƒ±: P=${currentBatchSize}, Q=${currentQ}`);\r\n        \r\n        await new Promise(resolve => setTimeout(resolve, 2000));\r\n        \r\n        const successCount = Math.floor(currentBatchSize * 0.85) || Math.min(1, currentBatchSize);\r\n        \r\n        for (let i = 0; i < currentBatchSize; i++) {\r\n          if (i < successCount) {\r\n            currentT++;\r\n            setT(currentT);\r\n            await counterSync.updateCounter('T', currentT);\r\n            add24hTotal(1);\r\n          }\r\n          currentQ--;\r\n          setQ(currentQ);\r\n          await counterSync.updateCounter('Q', currentQ);\r\n          setP(Math.max(0, currentBatchSize - i - 1));\r\n          await counterSync.updateCounter('P', Math.max(0, currentBatchSize - i - 1));\r\n          \r\n          await new Promise(resolve => setTimeout(resolve, 100));\r\n        }\r\n        \r\n        console.log(`‚úÖ Batch tamamlandƒ±: Q=${currentQ}, T=${currentT}, P=0`);\r\n      }\r\n      \r\n      setP(0);\r\n      await counterSync.updateCounter('P', 0);\r\n      const after = { Q: currentQ, P: 0, T: currentT, offline };\r\n      logAction('Kuyruƒüu ƒ∞≈üle - Tamamlandƒ±', before, after);\r\n      \r\n      if (offlineQueue) {\r\n        await offlineQueue.clearQueue();\r\n        await updateQueueItems();\r\n      }\r\n      \r\n      toast.success(`üéâ Kuyruk i≈ülendi: ${currentT - before.T} ba≈üarƒ±lƒ±`);\r\n      \r\n    } catch (error) {\r\n      setP(0);\r\n      await counterSync.updateCounter('P', 0);\r\n      toast.error('‚ùå Kuyruk i≈üleme hatasƒ±');\r\n    }\r\n  };\r\n\r\n  // üîÑ 4) Kuyruƒüu Temizle (onaydan sonra) - API Senkronize\r\n  const clearQueue = async () => {\r\n    if (!checkDebounce()) return;\r\n    \r\n    console.log(`üîÑ Kuyruƒüu Temizle clicked: offline=${offline}, Q=${Q}, P=${P}, T=${T}`);\r\n    \r\n    if (Q === 0) {\r\n      console.log('üö´ Kuyruƒüu Temizle blocked: Q=0');\r\n      toast.info('‚ÑπÔ∏è Kuyruk zaten bo≈ü');\r\n      return;\r\n    }\r\n    \r\n    const before = { Q, P, T, offline };\r\n    \r\n    if (P === 0) {\r\n      setQ(0);\r\n      await counterSync.updateCounter('Q', 0);\r\n\r\n      if (offlineQueue) {\r\n        await offlineQueue.clearQueue();\r\n        await updateQueueItems();\r\n      }\r\n      \r\n      const after = { Q: 0, P, T, offline };\r\n      logAction('Kuyruƒüu Temizle', before, after);\r\n      \r\n      toast.success(`üóëÔ∏è Kuyruk temizlendi (${before.Q} kayƒ±t)`);\r\n      \r\n    } else {\r\n      setP(0);\r\n      setQ(0);\r\n      await counterSync.updateCounters({ P: 0, Q: 0 });\r\n      \r\n      if (offlineQueue) {\r\n        await offlineQueue.clearQueue();\r\n        await updateQueueItems();\r\n      }\r\n      \r\n      const after = { Q: 0, P: 0, T, offline };\r\n      logAction('Kuyruƒüu Temizle (ƒ∞≈ülem ƒ∞ptal)', before, after);\r\n      \r\n      toast.success(`üõë ƒ∞≈ülem durduruldu ve kuyruk temizlendi (${before.Q} kayƒ±t)`);\r\n    }\r\n  };\r\n\r\n  const updateQueueItems = async () => {\r\n    if (offlineQueue) {\r\n      const items = await offlineQueue.getQueue();\r\n      setQueueItems(items);\r\n      if (onUpdate) onUpdate();\r\n    }\r\n  };\r\n\r\n  // Initialization - saya√ßlarƒ± API'den senkronize et\r\n  useEffect(() => {\r\n    const initializeCounters = async () => {\r\n      // 1. API'den global saya√ßlarƒ± √ßek\r\n      const apiCounters = await counterSync.getCounters();\r\n      if (apiCounters) {\r\n        setQ(apiCounters.Q);\r\n        setP(apiCounters.P);\r\n        setT(apiCounters.T);\r\n        setOffline(apiCounters.offline);\r\n        console.log(`üîÑ API'den y√ºklendi:`, apiCounters);\r\n      }\r\n      \r\n      // 2. Lokal kuyruk verilerini y√ºkle\r\n      if (offlineQueue) {\r\n        const queue = await offlineQueue.getQueue();\r\n        setQueueItems(queue);\r\n      }\r\n    };\r\n    \r\n    initializeCounters();\r\n    \r\n    // Otomatik senkronizasyon ba≈ülat\r\n    counterSync.startAutoSync(2000);\r\n    \r\n    // API deƒüi≈üikliklerini dinle\r\n    const unsubscribe = counterSync.addListener((newCounters) => {\r\n      console.log('üîÑ API g√ºncellemesi:', newCounters);\r\n      setQ(newCounters.Q);\r\n      setP(newCounters.P);\r\n      setT(newCounters.T);\r\n      setOffline(newCounters.offline);\r\n    });\r\n    \r\n    return () => {\r\n      counterSync.stopAutoSync();\r\n      unsubscribe();\r\n    };\r\n  }, [offlineQueue]);\r\n\r\n  // 24 saatlik toplama ekleme (T artƒ±rmak i√ßin)\r\n  const add24hTotal = (count = 1) => {\r\n    const now = new Date().toISOString();\r\n    const records = JSON.parse(localStorage.getItem('24h_records') || '[]');\r\n    for (let i = 0; i < count; i++) {\r\n      records.push({ timestamp: now });\r\n    }\r\n    \r\n    const oneDayAgo = new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString();\r\n    const filteredRecords = records.filter(record => record.timestamp > oneDayAgo);\r\n    \r\n    localStorage.setItem('24h_records', JSON.stringify(filteredRecords));\r\n  };\r\n\r\n  // üîÑ RENDER LOG - State takibi\r\n  console.log(`üîÑ render: offline=${offline}, Q=${Q}, P=${P}, T=${T}`);\r\n\r\n  return (\r\n    <div className=\"barcode-scanner\">\r\n      {/* Header */}\r\n      <div className=\"scanner-header\">\r\n        <h1 className=\"scanner-title\">üîÑ Senkronize Barkod Sistemi</h1>\r\n        <div className={`status-badge ${offline ? 'offline' : 'online'}`}>\r\n          {offline ? 'üì± Offline' : 'üåê Online'} ‚Ä¢ Senkronize\r\n        </div>\r\n      </div>\r\n\r\n      {/* Q/P/T Saya√ß Kutucuklarƒ± - API SENKRONIZE */}\r\n      <div className=\"stats-section\">\r\n        <div className=\"stats-grid\">\r\n          <div className=\"stat-card queue\">\r\n            <div className=\"stat-value\">{Q}</div>\r\n            <div className=\"stat-label\">Kuyruk</div>\r\n          </div>\r\n          <div className=\"stat-card processing\">\r\n            <div className=\"stat-value\">{P}</div>\r\n            <div className=\"stat-label\">ƒ∞≈üleniyor</div>\r\n          </div>\r\n          <div className=\"stat-card total\">\r\n            <div className=\"stat-value\">{T}</div>\r\n            <div className=\"stat-label\">Toplam</div>\r\n            <div className=\"stat-subtitle\">24 saat</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Offline Toggle */}\r\n      <div className=\"toggle-section\">\r\n        <div className=\"toggle-wrapper\">\r\n          <span className=\"toggle-label\">Offline Modu</span>\r\n          <div \r\n            className=\"toggle-hit-area\"\r\n            onClick={() => handleOfflineModeToggle(!offline)}\r\n            onTouchStart={(e) => {\r\n              e.preventDefault();\r\n            }}\r\n            onTouchEnd={(e) => {\r\n              e.preventDefault();\r\n            }}\r\n            style={{\r\n              minWidth: '44px',\r\n              minHeight: '44px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              touchAction: 'manipulation',\r\n              cursor: 'pointer',\r\n              WebkitTapHighlightColor: 'transparent',\r\n              zIndex: 10 // Toast √ºst√ºne √ßƒ±k\r\n            }}\r\n          >\r\n            <button \r\n              className={`toggle-switch ${offline ? 'active' : ''}`}\r\n              style={{ pointerEvents: 'none' }}\r\n              data-offline={offline}\r\n              data-class={offline ? 'active' : 'inactive'}\r\n            >\r\n              <div className=\"toggle-handle\"></div>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Action Buttons */}\r\n      <div className=\"action-section\">\r\n        <button \r\n          className=\"action-btn primary\"\r\n          onClick={processQueue}\r\n          onTouchStart={(e) => {\r\n            if (!e.currentTarget.disabled) {\r\n              e.currentTarget.style.transform = 'scale(0.95)';\r\n            }\r\n          }}\r\n          onTouchEnd={(e) => {\r\n            setTimeout(() => {\r\n              e.currentTarget.style.transform = '';\r\n            }, 150);\r\n          }}\r\n          disabled={offline || Q === 0 || P > 0}\r\n          title={\r\n            offline \r\n              ? 'Offline modda pasif - Online moda ge√ßin' \r\n              : Q === 0 \r\n                ? 'Kuyruk bo≈ü - √∂nce barkod ekleyin'\r\n                : P > 0\r\n                  ? 'ƒ∞≈ülem devam ediyor'\r\n                  : 'Kuyruktaki barkodlarƒ± toplu i≈üle'\r\n          }\r\n        >\r\n          <FaSync className={P > 0 ? 'spinning' : ''} />\r\n          {P > 0 ? 'ƒ∞≈üleniyor...' : 'Kuyruƒüu ƒ∞≈üle'}\r\n        </button>\r\n\r\n        <button \r\n          className=\"action-btn danger\"\r\n          onClick={() => {\r\n            if (Q === 0) {\r\n              toast.info('‚ÑπÔ∏è Kuyruk zaten bo≈ü');\r\n              return;\r\n            }\r\n            setShowClearModal(true);\r\n          }}\r\n          onTouchStart={(e) => {\r\n            if (!e.currentTarget.disabled) {\r\n              e.currentTarget.style.transform = 'scale(0.95)';\r\n            }\r\n          }}\r\n          onTouchEnd={(e) => {\r\n            setTimeout(() => {\r\n              e.currentTarget.style.transform = '';\r\n            }, 150);\r\n          }}\r\n          disabled={Q === 0}\r\n          title={\r\n            Q === 0 \r\n              ? 'Kuyruk bo≈ü - temizlenecek barkod yok'\r\n              : `${Q} barkod var - kuyruƒüu temizle`\r\n          }\r\n        >\r\n          <FaTrash />\r\n          Temizle\r\n        </button>\r\n      </div>\r\n\r\n      {/* Test Barkodlarƒ± */}\r\n      <div className=\"test-section\">\r\n        <h2 className=\"section-title\">Test Barkodlarƒ±</h2>\r\n        <div className=\"test-grid\">\r\n          {testBarcodes.map((barcode, index) => (\r\n            <div \r\n              key={index}\r\n              className={`test-card ${barcode.valid ? 'valid' : 'invalid'}`}\r\n              onClick={() => simulateScan(barcode)}\r\n              onTouchStart={(e) => {\r\n                e.currentTarget.style.transform = 'scale(0.95)';\r\n              }}\r\n              onTouchEnd={(e) => {\r\n                setTimeout(() => {\r\n                  e.currentTarget.style.transform = '';\r\n                }, 150);\r\n              }}\r\n              style={{\r\n                cursor: 'pointer',\r\n                WebkitTapHighlightColor: 'transparent'\r\n              }}\r\n            >\r\n              <div className=\"barcode-icon\">\r\n                <FaBarcode />\r\n              </div>\r\n              <div className=\"barcode-info\">\r\n                <div className=\"barcode-code\">{barcode.code}</div>\r\n                <div className=\"barcode-type\">{barcode.type}</div>\r\n                <div className={`barcode-status ${barcode.valid ? 'valid' : 'invalid'}`}>\r\n                  {barcode.valid ? '‚úÖ Ge√ßerli' : '‚ùå Ge√ßersiz'}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Queue Items */}\r\n      <div className=\"queue-section\">\r\n        <h3 className=\"queue-title\">\r\n          Kuyruk ({queueItems.length})\r\n        </h3>\r\n        \r\n        {queueItems.length === 0 ? (\r\n          <div className=\"empty-queue\">\r\n            <FaInfoCircle />\r\n            <span>Kuyruk bo≈ü</span>\r\n          </div>\r\n        ) : (\r\n          <div className=\"queue-list\">\r\n            {queueItems.map((item, index) => (\r\n              <div key={item.id} className=\"queue-item\">\r\n                <div className=\"item-info\">\r\n                  <span className=\"item-barcode\">{item.data?.barcode || 'N/A'}</span>\r\n                  <span className=\"item-type\">{item.data?.type || 'scan'}</span>\r\n                  <span className={`item-status ${item.data?.status || 'pending'}`}>\r\n                    {item.data?.status === 'pending' && '‚è≥ Bekliyor'}\r\n                    {item.data?.status === 'processing' && 'üîÑ ƒ∞≈üleniyor'}\r\n                    {item.data?.status === 'success' && '‚úÖ Ba≈üarƒ±lƒ±'}\r\n                    {item.data?.status === 'error' && '‚ùå Hatalƒ±'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {Q >= 100 && (\r\n          <div className=\"long-queue-warning\">\r\n            <FaInfoCircle />\r\n            <span>Kuyruk b√ºy√ºk, arka planda g√∂nderiliyor...</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Temizleme Onay Modalƒ± */}\r\n      {showClearModal && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal\">\r\n            <h4>Kuyruƒüu temizle</h4>\r\n            <p>Kuyrukta <strong>{Q}</strong> kayƒ±t var. Bu i≈ülem geri alƒ±namaz.</p>\r\n            {P > 0 && (\r\n              <div className=\"warning-text\">\r\n                ‚ö†Ô∏è ≈ûu anda {P} barkod i≈üleniyor. ƒ∞≈ülemi durdurup kuyruƒüu temizlemek istiyor musunuz?\r\n              </div>\r\n            )}\r\n            <div className=\"modal-buttons\">\r\n              <button \r\n                className=\"btn btn-secondary\"\r\n                onClick={() => setShowClearModal(false)}\r\n              >\r\n                Vazge√ß\r\n              </button>\r\n              <button \r\n                className=\"btn btn-danger\"\r\n                onClick={() => {\r\n                  clearQueue();\r\n                  setShowClearModal(false);\r\n                }}\r\n              >\r\n                {P > 0 ? 'Evet, durdur ve sil' : 'Evet, temizle'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SyncedBarcodeScanner;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}